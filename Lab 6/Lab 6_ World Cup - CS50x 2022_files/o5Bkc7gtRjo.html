<!DOCTYPE html>
<!-- saved from url=(0033)https://video.cs50.io/o5Bkc7gtRjo -->
<html class="h-100" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <meta property="og:description" content="***  This is CS50, Harvard University&#39;s introduction to the intellectual enterprises of computer science and the art of programming.  ***  HOW TO SUBSCRIBE  http://www.youtube.com/subscription_center?add_user=cs50tv  HOW TO TAKE CS50  edX: https://cs50.ed">
        <meta property="og:image" content="https://img.youtube.com/vi//maxresdefault.jpg">
        <meta property="og:title" content="World Cup - Walkthrough - CS50 Labs 2020">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://video.cs50.io/o5Bkc7gtRjo">

        <!-- https://www.youtube.com/ -->
        <link href="https://s.ytimg.com/yts/img/favicon_32-vflOogEID.png" rel="shortcut icon">

        <!-- https://fontawesome.com/ -->
<link crossorigin="anonymous" href="./all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" rel="stylesheet">

<!-- https://getbootstrap.com/ -->
<link crossorigin="anonymous" href="./bootstrap.min.css" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" rel="stylesheet">
<script type="text/javascript" id="www-widgetapi-script" src="./www-widgetapi.js" async=""></script><script src="./iframe_api"></script><script crossorigin="anonymous" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" src="./bootstrap.bundle.min(1).js"></script>

<!-- https://jquery.com/ -->
<!-- https://www.jsdelivr.com/package/npm/jquery -->
<script crossorigin="anonymous" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" src="./jquery.min(1).js"></script>

        <!-- http://numeraljs.com/ -->
        <script crossorigin="anonymous" integrity="sha256-LlHVI5rUauudM5ZcZaD6hHPHKrA7CSefHHnKgq+/AZc=" src="./numeral.min.js"></script>

        <!-- https://github.com/twitter/twemoji -->
        <!-- https://www.jsdelivr.com/package/npm/twemoji?path=dist -->
        <script crossorigin="anonymous" integrity="sha256-cGIk2NxUQEYPjtkcGmqtJdcyr24O5vsxFRsVerSFurs" src="./twemoji.min.js"></script>

        <!-- https://github.com/davidjbradshaw/iframe-resizer -->
        <!-- https://www.jsdelivr.com/package/npm/iframe-resizer?path=js -->
        <script>
            window.iFrameResizer = {

                // https://github.com/davidjbradshaw/iframe-resizer/blob/master/docs/iframed_page/options.md#heightcalculationmethod--widthcalculationmethod
                heightCalculationMethod: function() {

                    // Player's width
                    const width = $('#main').outerWidth();

                    // Player's ideal height, assuming 16x9
                    let height = width / 16 * 9;

                    // Player's actual height with nav
                    return Math.round(height + $('nav').outerHeight());
                }
            };
        </script>
        <script crossorigin="anonymous" integrity="sha512-14SY6teTzhrLWeL55Q4uCyxr6GQOxF3pEoMxo2mBxXwPRikdMtzKMYWy2B5Lqjr6PHHoGOxZgPaxUYKQrSmu0A==" src="./iframeResizer.contentWindow.min.js"></script>

        <style>

            body {
                background-color: #000;
            }

            .navbar-brand {
                font-size: 1.125rem;
            }

            .fab.fa-youtube {
                color: #ff0000;
                font-size: 1.5em;
            }

            .custom-control-sm {
                font-size: .875rem;
                padding-bottom: .5rem; /* A la .nav-link */
                padding-top: .5rem; /* A la .nav-link */
            }
            .custom-control-sm .custom-control-label::before {
                top: .2rem;
            }
            .custom-control-sm .custom-control-label::after {
                top: calc(.2rem + 2px);
            }

            #captions, #chapters {
                max-height: 80vh;
                max-width: 50vw;
            }

            #snacks {
                max-height: 80vh;
                min-width: 0;
            }

            /* https://github.com/twitter/twemoji#inline-styles */
            #snacks img.emoji {
                height: 1em;
                margin: 0 .05em 0 .1em;
                vertical-align: -0.1em;
                width: 1em;
            }

            #snacks .dropdown-item {
                cursor: pointer;
                font-size: 2rem;
            }

            .mark, mark {
                padding: 0;
            }

        </style>

        <title>
            World Cup - Walkthrough - CS50 Labs 2020
        </title>

    </head>

    <body class="h-100 overflow-hidden vsc-initialized" data-new-gr-c-s-check-loaded="14.1081.0" data-gr-ext-installed="">

        <nav class="bg-light navbar navbar-expand-md navbar-light">

            <div class="container-fluid">

                <a class="btn btn-link navbar-brand px-0 text-secondary" href="https://video.cs50.io/" role="button" target="_top">
                    <i class="align-bottom fab fa-youtube pe-1"></i>
                    CS50
                    <span class="d-none d-lg-inline">Video Player</span>
                </a>

                

                <div class="collapse navbar-collapse" id="navbar">

                    <ul class="ms-auto navbar-nav">
                        <li class="nav-item">
                            <button class="btn btn-link nav-link text-muted" data-bs-target="#shortcuts" data-bs-toggle="modal" type="button">
                                <i class="far fa-keyboard pe-1"></i>
                                Shortcuts
                            </button>
                        </li>
                    </ul>

                    <ul class="ms-2 navbar-nav">
                        <li class="nav-item">
                            <div class="dropdown">
                                <button aria-expanded="false" class="btn btn-link dropdown-toggle ms-auto nav-link text-muted" data-bs-toggle="dropdown" id="snacks-button" role="button">
                                    Snacks
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end overflow-auto" id="snacks"><a class="dropdown-item"><img draggable="false" class="emoji" alt="🧁" src="./1f9c1.png"></a><li><hr class="dropdown-divider"></li><a class="dropdown-item"><img draggable="false" class="emoji" alt="🍨" src="./1f368.png"></a><li><hr class="dropdown-divider"></li><a class="dropdown-item"><img draggable="false" class="emoji" alt="🍏" src="./1f34f.png"></a><li><hr class="dropdown-divider"></li><a class="dropdown-item"><img draggable="false" class="emoji" alt="🍿" src="./1f37f.png"></a></ul>
                            </div>
                        </li>
                    </ul>

                    

                    

                    <!-- https://stackoverflow.com/a/45696757 -->
                    <ul class="ms-2 navbar-nav">
                        <li class="nav-item">
                            <div class="input-group">
                                <input autocomplete="off" class="form-control" id="q" placeholder="Captions" type="search">
                                <button aria-expanded="false" class="btn btn-secondary dropdown-toggle" data-bs-auto-close="false" data-bs-toggle="dropdown" id="captions-button" type="button"></button>
                                <ul class="dropdown-menu dropdown-menu-end overflow-auto" id="captions"><li><a class="dropdown-item overflow-hidden text-truncate" data-start="0" href="https://video.cs50.io/o5Bkc7gtRjo?start=0"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:00</span></span><span data-text="">BRIAN YU: In this lab your task is going to be to write a program in Python</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="4" href="https://video.cs50.io/o5Bkc7gtRjo?start=4"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:04</span></span><span data-text="">to simulate the results of a sports tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="7" href="https://video.cs50.io/o5Bkc7gtRjo?start=7"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:07</span></span><span data-text="">In a sports tournament, like the FIFA World Cup or other sport tournaments</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="10" href="https://video.cs50.io/o5Bkc7gtRjo?start=10"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:10</span></span><span data-text="">as well, oftentimes tournaments end up in a single elimination bracket</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="15" href="https://video.cs50.io/o5Bkc7gtRjo?start=15"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:15</span></span><span data-text="">where you end up with a bunch of teams each of which play each other,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="18" href="https://video.cs50.io/o5Bkc7gtRjo?start=18"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:18</span></span><span data-text="">where the winners then move on to the next round and then play each other,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="22" href="https://video.cs50.io/o5Bkc7gtRjo?start=22"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:22</span></span><span data-text="">the winners then move on to the next round, play each other</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="24" href="https://video.cs50.io/o5Bkc7gtRjo?start=24"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:24</span></span><span data-text="">and then finally the last two teams play each other</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="27" href="https://video.cs50.io/o5Bkc7gtRjo?start=27"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:27</span></span><span data-text="">and whichever team wins between those last two teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="30" href="https://video.cs50.io/o5Bkc7gtRjo?start=30"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:30</span></span><span data-text="">is ultimately declared the winner of the tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="34" href="https://video.cs50.io/o5Bkc7gtRjo?start=34"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:34</span></span><span data-text="">How might we simulate this type of tournament?</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="36" href="https://video.cs50.io/o5Bkc7gtRjo?start=36"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:36</span></span><span data-text="">Well in order to do so, we need some idea of how good each of these teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="40" href="https://video.cs50.io/o5Bkc7gtRjo?start=40"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:40</span></span><span data-text="">actually is so that we can compare two teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="43" href="https://video.cs50.io/o5Bkc7gtRjo?start=43"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:43</span></span><span data-text="">and make some prediction about who is likely to win a game between those two</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="47" href="https://video.cs50.io/o5Bkc7gtRjo?start=47"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:47</span></span><span data-text="">teams.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="48" href="https://video.cs50.io/o5Bkc7gtRjo?start=48"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:48</span></span><span data-text="">So oftentimes teams or players will have ratings,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="51" href="https://video.cs50.io/o5Bkc7gtRjo?start=51"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:51</span></span><span data-text="">some number that determines how good that particular team or player is</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="56" href="https://video.cs50.io/o5Bkc7gtRjo?start=56"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:56</span></span><span data-text="">and as a result, we can use that information</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="59" href="https://video.cs50.io/o5Bkc7gtRjo?start=59"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:00:59</span></span><span data-text="">to compare two ratings to determine who might win a game between any two teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="64" href="https://video.cs50.io/o5Bkc7gtRjo?start=64"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:04</span></span><span data-text="">for instance.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="65" href="https://video.cs50.io/o5Bkc7gtRjo?start=65"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:05</span></span><span data-text="">Ultimately your program is going to use this kind of information,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="68" href="https://video.cs50.io/o5Bkc7gtRjo?start=68"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:08</span></span><span data-text="">a listing of teams and what their ratings are, to simulate a tournament</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="72" href="https://video.cs50.io/o5Bkc7gtRjo?start=72"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:12</span></span><span data-text="">and simulate what the probability is that any particular team is</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="76" href="https://video.cs50.io/o5Bkc7gtRjo?start=76"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:16</span></span><span data-text="">going to win that tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="78" href="https://video.cs50.io/o5Bkc7gtRjo?start=78"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:18</span></span><span data-text="">In order to do so you'll need access to some data,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="81" href="https://video.cs50.io/o5Bkc7gtRjo?start=81"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:21</span></span><span data-text="">so we'll give you some data formatted as a CSV file,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="84" href="https://video.cs50.io/o5Bkc7gtRjo?start=84"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:24</span></span><span data-text="">comma separated values, where every line corresponds</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="87" href="https://video.cs50.io/o5Bkc7gtRjo?start=87"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:27</span></span><span data-text="">to a team that has two values.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="90" href="https://video.cs50.io/o5Bkc7gtRjo?start=90"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:30</span></span><span data-text="">First the name of the team, in other words, like what country for example</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="93" href="https://video.cs50.io/o5Bkc7gtRjo?start=93"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:33</span></span><span data-text="">that team is from, followed by a comma, and then the rating</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="97" href="https://video.cs50.io/o5Bkc7gtRjo?start=97"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:37</span></span><span data-text="">for that team, some number representing the strength of that team where</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="101" href="https://video.cs50.io/o5Bkc7gtRjo?start=101"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:41</span></span><span data-text="">a higher rating means that team is better</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="103" href="https://video.cs50.io/o5Bkc7gtRjo?start=103"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:43</span></span><span data-text="">and is therefore more likely to win a game against a lower rated</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="107" href="https://video.cs50.io/o5Bkc7gtRjo?start=107"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:47</span></span><span data-text="">team for example.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="108" href="https://video.cs50.io/o5Bkc7gtRjo?start=108"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:48</span></span><span data-text="">The bigger the difference between the ratings of those two teams,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="111" href="https://video.cs50.io/o5Bkc7gtRjo?start=111"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:51</span></span><span data-text="">the more likely it is that the team with the higher rating</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="115" href="https://video.cs50.io/o5Bkc7gtRjo?start=115"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:55</span></span><span data-text="">is going to win that game.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="118" href="https://video.cs50.io/o5Bkc7gtRjo?start=118"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:01:58</span></span><span data-text="">If we stored this information inside of a CSV file,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="121" href="https://video.cs50.io/o5Bkc7gtRjo?start=121"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:01</span></span><span data-text="">then your program is going to work as follows,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="123" href="https://video.cs50.io/o5Bkc7gtRjo?start=123"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:03</span></span><span data-text="">you'll run python tournament.py followed by a CSV file, the one</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="127" href="https://video.cs50.io/o5Bkc7gtRjo?start=127"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:07</span></span><span data-text="">we have here is the 2018 men's FIFA World Cup teams,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="132" href="https://video.cs50.io/o5Bkc7gtRjo?start=132"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:12</span></span><span data-text="">and after that your program is going to simulate a whole bunch of tournaments,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="136" href="https://video.cs50.io/o5Bkc7gtRjo?start=136"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:16</span></span><span data-text="">maybe simulating 1,000 different tournaments within these teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="139" href="https://video.cs50.io/o5Bkc7gtRjo?start=139"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:19</span></span><span data-text="">and then printing out based on those results what the program thinks</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="143" href="https://video.cs50.io/o5Bkc7gtRjo?start=143"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:23</span></span><span data-text="">the probability is that any particular country will</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="146" href="https://video.cs50.io/o5Bkc7gtRjo?start=146"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:26</span></span><span data-text="">be the eventual winner of the entire tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="150" href="https://video.cs50.io/o5Bkc7gtRjo?start=150"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:30</span></span><span data-text="">How are you going to do that?</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="151" href="https://video.cs50.io/o5Bkc7gtRjo?start=151"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:31</span></span><span data-text="">Well, let's start by taking a look at the distribution code</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="153" href="https://video.cs50.io/o5Bkc7gtRjo?start=153"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:33</span></span><span data-text="">that we give to you as part of this lab.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="156" href="https://video.cs50.io/o5Bkc7gtRjo?start=156"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:36</span></span><span data-text="">For this lab, we give to you a couple of files.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="158" href="https://video.cs50.io/o5Bkc7gtRjo?start=158"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:38</span></span><span data-text="">We give you some CSV files, each of which</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="161" href="https://video.cs50.io/o5Bkc7gtRjo?start=161"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:41</span></span><span data-text="">is going to contain a listing of teams as well as what rating each</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="164" href="https://video.cs50.io/o5Bkc7gtRjo?start=164"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:44</span></span><span data-text="">of those teams has, and we give you that for a couple of different tournaments</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="168" href="https://video.cs50.io/o5Bkc7gtRjo?start=168"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:48</span></span><span data-text="">but then tournament.py is where all of the logic is.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="172" href="https://video.cs50.io/o5Bkc7gtRjo?start=172"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:52</span></span><span data-text="">This is the Python file that you're going</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="174" href="https://video.cs50.io/o5Bkc7gtRjo?start=174"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:54</span></span><span data-text="">to use to actually simulate one of these sports tournaments.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="178" href="https://video.cs50.io/o5Bkc7gtRjo?start=178"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:02:58</span></span><span data-text="">We start here by defining a variable n which</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="180" href="https://video.cs50.io/o5Bkc7gtRjo?start=180"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:00</span></span><span data-text="">is equal to the number of simulations to run,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="183" href="https://video.cs50.io/o5Bkc7gtRjo?start=183"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:03</span></span><span data-text="">and by default we're going to simulate 1,000 different tournaments</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="186" href="https://video.cs50.io/o5Bkc7gtRjo?start=186"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:06</span></span><span data-text="">with these teams.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="188" href="https://video.cs50.io/o5Bkc7gtRjo?start=188"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:08</span></span><span data-text="">Inside the main function, we check to make sure</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="191" href="https://video.cs50.io/o5Bkc7gtRjo?start=191"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:11</span></span><span data-text="">that the program is being used correctly with a file name provided</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="194" href="https://video.cs50.io/o5Bkc7gtRjo?start=194"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:14</span></span><span data-text="">as an argument.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="195" href="https://video.cs50.io/o5Bkc7gtRjo?start=195"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:15</span></span><span data-text="">Then we define a variable called teams, which</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="198" href="https://video.cs50.io/o5Bkc7gtRjo?start=198"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:18</span></span><span data-text="">initially is just going to be an empty list,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="201" href="https://video.cs50.io/o5Bkc7gtRjo?start=201"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:21</span></span><span data-text="">there are no teams we know of yet.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="203" href="https://video.cs50.io/o5Bkc7gtRjo?start=203"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:23</span></span><span data-text="">But the first thing you'll want to do is to read from the CSV file</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="207" href="https://video.cs50.io/o5Bkc7gtRjo?start=207"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:27</span></span><span data-text="">all of those teams and sort each team inside of this list of teams,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="212" href="https://video.cs50.io/o5Bkc7gtRjo?start=212"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:32</span></span><span data-text="">storing each team with a dictionary where that dictionary is going</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="215" href="https://video.cs50.io/o5Bkc7gtRjo?start=215"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:35</span></span><span data-text="">to store values for both the name of the team</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="217" href="https://video.cs50.io/o5Bkc7gtRjo?start=217"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:37</span></span><span data-text="">as well as for the rating for that team as well.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="222" href="https://video.cs50.io/o5Bkc7gtRjo?start=222"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:42</span></span><span data-text="">After that, we define another dictionary called count.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="226" href="https://video.cs50.io/o5Bkc7gtRjo?start=226"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:46</span></span><span data-text="">And count is going to be a dictionary that maps keys to values</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="229" href="https://video.cs50.io/o5Bkc7gtRjo?start=229"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:49</span></span><span data-text="">as all dictionaries do, where in this case,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="232" href="https://video.cs50.io/o5Bkc7gtRjo?start=232"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:52</span></span><span data-text="">the keys are going to be the names of the teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="235" href="https://video.cs50.io/o5Bkc7gtRjo?start=235"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:03:55</span></span><span data-text="">and the values are going to be how many tournaments that team has won.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="240" href="https://video.cs50.io/o5Bkc7gtRjo?start=240"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:00</span></span><span data-text="">Because ultimately we're going to simulate n tournaments, where</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="243" href="https://video.cs50.io/o5Bkc7gtRjo?start=243"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:03</span></span><span data-text="">by default n is going to be 1,000 and we want to keep track of how many times</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="248" href="https://video.cs50.io/o5Bkc7gtRjo?start=248"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:08</span></span><span data-text="">any given team wins a tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="251" href="https://video.cs50.io/o5Bkc7gtRjo?start=251"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:11</span></span><span data-text="">And if a team wins the tournament 100 times then</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="254" href="https://video.cs50.io/o5Bkc7gtRjo?start=254"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:14</span></span><span data-text="">that team name is going to be the key and 100</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="257" href="https://video.cs50.io/o5Bkc7gtRjo?start=257"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:17</span></span><span data-text="">is going to be the value, so that we can remember</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="259" href="https://video.cs50.io/o5Bkc7gtRjo?start=259"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:19</span></span><span data-text="">for any given team how many tournaments they won according to our simulation.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="264" href="https://video.cs50.io/o5Bkc7gtRjo?start=264"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:24</span></span><span data-text="">And based on that simulation, we've already</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="266" href="https://video.cs50.io/o5Bkc7gtRjo?start=266"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:26</span></span><span data-text="">written code for you that goes through each of those teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="269" href="https://video.cs50.io/o5Bkc7gtRjo?start=269"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:29</span></span><span data-text="">and prints out what probability we expect them to have</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="272" href="https://video.cs50.io/o5Bkc7gtRjo?start=272"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:32</span></span><span data-text="">of winning the entire tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="275" href="https://video.cs50.io/o5Bkc7gtRjo?start=275"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:35</span></span><span data-text="">We've also given to you a couple of other functions.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="278" href="https://video.cs50.io/o5Bkc7gtRjo?start=278"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:38</span></span><span data-text="">We've given to a simulate_game function that accepts two teams as input.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="282" href="https://video.cs50.io/o5Bkc7gtRjo?start=282"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:42</span></span><span data-text="">And what it's going to do is return true if based on the simulation</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="286" href="https://video.cs50.io/o5Bkc7gtRjo?start=286"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:46</span></span><span data-text="">team 1 wins and false otherwise.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="289" href="https://video.cs50.io/o5Bkc7gtRjo?start=289"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:49</span></span><span data-text="">This function utilizes some randomness, it's</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="291" href="https://video.cs50.io/o5Bkc7gtRjo?start=291"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:51</span></span><span data-text="">not always going to return the same result to you</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="294" href="https://video.cs50.io/o5Bkc7gtRjo?start=294"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:54</span></span><span data-text="">every time, just as when two of the same teams play a game</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="298" href="https://video.cs50.io/o5Bkc7gtRjo?start=298"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:04:58</span></span><span data-text="">it's not always going to be the case most likely</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="300" href="https://video.cs50.io/o5Bkc7gtRjo?start=300"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:00</span></span><span data-text="">that the same team is going to win every time.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="302" href="https://video.cs50.io/o5Bkc7gtRjo?start=302"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:02</span></span><span data-text="">There is some variability in the function as well.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="305" href="https://video.cs50.io/o5Bkc7gtRjo?start=305"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:05</span></span><span data-text="">What the function does is it looks at the rating for both</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="308" href="https://video.cs50.io/o5Bkc7gtRjo?start=308"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:08</span></span><span data-text="">of those teams, rating 1 and rating 2, and uses that information</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="312" href="https://video.cs50.io/o5Bkc7gtRjo?start=312"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:12</span></span><span data-text="">to calculate what the probability is that team 1 for example wins the game.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="318" href="https://video.cs50.io/o5Bkc7gtRjo?start=318"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:18</span></span><span data-text="">And then randomly using that probability,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="321" href="https://video.cs50.io/o5Bkc7gtRjo?start=321"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:21</span></span><span data-text="">returns true sometimes if team 1 wins and false otherwise.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="326" href="https://video.cs50.io/o5Bkc7gtRjo?start=326"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:26</span></span><span data-text="">We've also given you a function called simulate_round,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="329" href="https://video.cs50.io/o5Bkc7gtRjo?start=329"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:29</span></span><span data-text="">which does the same thing, but not just for one game</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="332" href="https://video.cs50.io/o5Bkc7gtRjo?start=332"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:32</span></span><span data-text="">but for an entire round of games between many different teams.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="336" href="https://video.cs50.io/o5Bkc7gtRjo?start=336"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:36</span></span><span data-text="">The simulate_round function accepts as input a list of teams,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="339" href="https://video.cs50.io/o5Bkc7gtRjo?start=339"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:39</span></span><span data-text="">and what the simulate_round function will do</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="342" href="https://video.cs50.io/o5Bkc7gtRjo?start=342"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:42</span></span><span data-text="">is consider each of those pairs of teams one at a time, teams 0 and 1, then 2</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="347" href="https://video.cs50.io/o5Bkc7gtRjo?start=347"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:47</span></span><span data-text="">and 3, then 4 and 5, and simulate the game between each of them,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="351" href="https://video.cs50.io/o5Bkc7gtRjo?start=351"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:51</span></span><span data-text="">returning to you a list of the winners of that round.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="355" href="https://video.cs50.io/o5Bkc7gtRjo?start=355"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:05:55</span></span><span data-text="">So if you give to simulate_round a list of eight teams for example,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="360" href="https://video.cs50.io/o5Bkc7gtRjo?start=360"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:00</span></span><span data-text="">then simulate_round will return to you a list</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="362" href="https://video.cs50.io/o5Bkc7gtRjo?start=362"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:02</span></span><span data-text="">of the four winners from pairing up teams 0 and 1, 2 and 3, 4</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="367" href="https://video.cs50.io/o5Bkc7gtRjo?start=367"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:07</span></span><span data-text="">5, 6 and 7 for example.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="370" href="https://video.cs50.io/o5Bkc7gtRjo?start=370"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:10</span></span><span data-text="">Finally, here is the simulate_tournament function.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="374" href="https://video.cs50.io/o5Bkc7gtRjo?start=374"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:14</span></span><span data-text="">This function ultimately should simulate the entire tournament, starting out</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="378" href="https://video.cs50.io/o5Bkc7gtRjo?start=378"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:18</span></span><span data-text="">with all of the teams, which you can assume will be some power of 2,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="381" href="https://video.cs50.io/o5Bkc7gtRjo?start=381"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:21</span></span><span data-text="">like 16 teams for example.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="383" href="https://video.cs50.io/o5Bkc7gtRjo?start=383"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:23</span></span><span data-text="">And then repeatedly simulating rounds until we're down to just one</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="387" href="https://video.cs50.io/o5Bkc7gtRjo?start=387"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:27</span></span><span data-text="">winner of the entire tournament and it's going to be left up</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="390" href="https://video.cs50.io/o5Bkc7gtRjo?start=390"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:30</span></span><span data-text="">to you to complete that function.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="393" href="https://video.cs50.io/o5Bkc7gtRjo?start=393"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:33</span></span><span data-text="">So let's recap what you'll need to do in tournament.py.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="398" href="https://video.cs50.io/o5Bkc7gtRjo?start=398"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:38</span></span><span data-text="">First, you should complete the main function using csv.DictReader</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="403" href="https://video.cs50.io/o5Bkc7gtRjo?start=403"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:43</span></span><span data-text="">you can read teams from the CSV file one at a time,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="406" href="https://video.cs50.io/o5Bkc7gtRjo?start=406"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:46</span></span><span data-text="">treating each team as a dictionary, where there's a key called team that</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="410" href="https://video.cs50.io/o5Bkc7gtRjo?start=410"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:50</span></span><span data-text="">represents the team's name as well as a key called rating that</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="414" href="https://video.cs50.io/o5Bkc7gtRjo?start=414"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:54</span></span><span data-text="">represents the team's rating.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="416" href="https://video.cs50.io/o5Bkc7gtRjo?start=416"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:06:56</span></span><span data-text="">Now by default when you read files as a CSV file it's going to treat everything</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="420" href="https://video.cs50.io/o5Bkc7gtRjo?start=420"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:00</span></span><span data-text="">as a string and because the rating is a number</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="422" href="https://video.cs50.io/o5Bkc7gtRjo?start=422"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:02</span></span><span data-text="">you'll want to make sure that you actually convert</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="424" href="https://video.cs50.io/o5Bkc7gtRjo?start=424"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:04</span></span><span data-text="">that rating to an integer first.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="427" href="https://video.cs50.io/o5Bkc7gtRjo?start=427"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:07</span></span><span data-text="">Once you do, you're going to store each team as a dictionary</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="430" href="https://video.cs50.io/o5Bkc7gtRjo?start=430"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:10</span></span><span data-text="">inside that list of teams.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="433" href="https://video.cs50.io/o5Bkc7gtRjo?start=433"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:13</span></span><span data-text="">So the teams ends up being a list of dictionaries, one dictionary per team.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="437" href="https://video.cs50.io/o5Bkc7gtRjo?start=437"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:17</span></span><span data-text="">And once you have that list of teams and you can then</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="440" href="https://video.cs50.io/o5Bkc7gtRjo?start=440"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:20</span></span><span data-text="">simulate n tournaments, where n by default</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="442" href="https://video.cs50.io/o5Bkc7gtRjo?start=442"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:22</span></span><span data-text="">is 1,000, by calling your simulate_tournament function.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="447" href="https://video.cs50.io/o5Bkc7gtRjo?start=447"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:27</span></span><span data-text="">After each of those tournaments, which you</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="449" href="https://video.cs50.io/o5Bkc7gtRjo?start=449"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:29</span></span><span data-text="">might imagine having in some sort of loop</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="451" href="https://video.cs50.io/o5Bkc7gtRjo?start=451"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:31</span></span><span data-text="">that's going to repeatedly simulate one tournament after another,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="454" href="https://video.cs50.io/o5Bkc7gtRjo?start=454"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:34</span></span><span data-text="">you'll want to keep track of the win count inside of your count dictionary.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="458" href="https://video.cs50.io/o5Bkc7gtRjo?start=458"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:38</span></span><span data-text="">Keeping track for any given team how many times that team</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="462" href="https://video.cs50.io/o5Bkc7gtRjo?start=462"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:42</span></span><span data-text="">has won one of your simulated tournaments.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="465" href="https://video.cs50.io/o5Bkc7gtRjo?start=465"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:45</span></span><span data-text="">You'll also want to complete the simulate_tournament function.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="469" href="https://video.cs50.io/o5Bkc7gtRjo?start=469"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:49</span></span><span data-text="">The simulate_tournament function again should simulate an entire tournament,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="473" href="https://video.cs50.io/o5Bkc7gtRjo?start=473"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:53</span></span><span data-text="">accepting a list of teams and producing who</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="475" href="https://video.cs50.io/o5Bkc7gtRjo?start=475"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:55</span></span><span data-text="">the winner of the simulated tournament is.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="478" href="https://video.cs50.io/o5Bkc7gtRjo?start=478"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:07:58</span></span><span data-text="">In doing so, you'll probably want to call the simulate_round function, which</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="483" href="https://video.cs50.io/o5Bkc7gtRjo?start=483"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:03</span></span><span data-text="">we've already written for you, which accepts a list of teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="486" href="https://video.cs50.io/o5Bkc7gtRjo?start=486"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:06</span></span><span data-text="">and returns a list of the winners from that round.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="490" href="https://video.cs50.io/o5Bkc7gtRjo?start=490"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:10</span></span><span data-text="">And likely you'll want to run this function multiple times,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="493" href="https://video.cs50.io/o5Bkc7gtRjo?start=493"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:13</span></span><span data-text="">repeatedly simulating rounds until only one team is left.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="497" href="https://video.cs50.io/o5Bkc7gtRjo?start=497"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:17</span></span><span data-text="">If you start off with a tournament with 16 teams</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="500" href="https://video.cs50.io/o5Bkc7gtRjo?start=500"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:20</span></span><span data-text="">and you pass those teams into simulate_round,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="503" href="https://video.cs50.io/o5Bkc7gtRjo?start=503"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:23</span></span><span data-text="">you'll get back a list of eight winners.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="505" href="https://video.cs50.io/o5Bkc7gtRjo?start=505"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:25</span></span><span data-text="">If you simulate a round with those eight winners,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="508" href="https://video.cs50.io/o5Bkc7gtRjo?start=508"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:28</span></span><span data-text="">you'll get back a list of four winners and then two, all the way down</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="511" href="https://video.cs50.io/o5Bkc7gtRjo?start=511"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:31</span></span><span data-text="">until one team is left in this tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="514" href="https://video.cs50.io/o5Bkc7gtRjo?start=514"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:34</span></span><span data-text="">And once you're down to just one winning team,</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="516" href="https://video.cs50.io/o5Bkc7gtRjo?start=516"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:36</span></span><span data-text="">you're going to return the name of that winning team</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="520" href="https://video.cs50.io/o5Bkc7gtRjo?start=520"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:40</span></span><span data-text="">so that you can use that name inside your count dictionary</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="523" href="https://video.cs50.io/o5Bkc7gtRjo?start=523"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:43</span></span><span data-text="">to figure out who ultimately is going to win the simulation.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="527" href="https://video.cs50.io/o5Bkc7gtRjo?start=527"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:47</span></span><span data-text="">After you've done all of that, you should</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="529" href="https://video.cs50.io/o5Bkc7gtRjo?start=529"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:49</span></span><span data-text="">be able to run tournament.py on a CSV file that</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="532" href="https://video.cs50.io/o5Bkc7gtRjo?start=532"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:52</span></span><span data-text="">contains teams and their ratings and figure out the approximate probability</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="537" href="https://video.cs50.io/o5Bkc7gtRjo?start=537"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:08:57</span></span><span data-text="">that any given team is going to win the tournament.</span></a></li><li><a class="dropdown-item overflow-hidden text-truncate" data-start="540" href="https://video.cs50.io/o5Bkc7gtRjo?start=540"><span class="d-inline-block me-3 text-end"><span class="badge bg-dark">0:09:00</span></span><span data-text="">My name is Brian and this was World Cup.</span></a></li></ul>
                            </div>
                        </li>
                    </ul>

                    

                </div>

                <ul class="ms-3 navbar-nav">
                    <li class="nav-item">
                        <a class="btn btn-link nav-link px-0 text-muted" href="https://video.cs50.io/o5Bkc7gtRjo" role="button" target="_top">
                            <i aria-hidden="true" class="fas fa-external-link-alt"></i>
                        </a>
                    </li>
                </ul>

            </div>

        </nav>

        <iframe class="border-0 w-100" id="main" style="height: 683px;" frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" src="./o5Bkc7gtRjo(1).html"></iframe>

        

        <div aria-hidden="true" aria-labelledby="shortcuts" class="modal" data-bs-backdrop="static" id="shortcuts" role="dialog" tabindex="-1">
            <div class="min-vh-100 modal-dialog modal-dialog-centered my-0">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title"><i class="far fa-keyboard pe-2"></i>Shortcuts</h5>
                        <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert" role="alert">
                            Before using a shortcut, click at least once on the video itself (to give it "focus") after closing this window.
                        </div>
                        <table class="table table-borderless table-sm">
                            <tbody>
                                <tr>
                                    <td>Play/Pause</td>
                                    <td><kbd>spacebar</kbd> or <kbd>k</kbd></td>
                                </tr>
                                <tr>
                                    <td>Rewind 10 seconds</td>
                                    <td><kbd>left arrow</kbd> or <kbd>j</kbd></td>
                                </tr>
                                <tr>
                                    <td>Fast forward 10 seconds</td>
                                    <td><kbd>right arrow</kbd> or <kbd>l</kbd></td>
                                </tr>
                                <tr>
                                    <td>Previous frame (while paused)</td>
                                    <td><kbd>,</kbd></td>
                                </tr>
                                <tr>
                                    <td>Next frame (while paused)</td>
                                    <td><kbd>.</kbd></td>
                                </tr>
                                <tr>
                                    <td>Decrease playback rate</td>
                                    <td><kbd>&lt;</kbd></td>
                                </tr>
                                <tr>
                                    <td>Increase playback rate</td>
                                    <td><kbd>&gt;</kbd></td>
                                </tr>
                                <tr>
                                    <td>Toggle captions on/off</td>
                                    <td><kbd>c</kbd></td>
                                </tr>
                                <tr>
                                    <td>Toggle mute</td>
                                    <td><kbd>m</kbd></td>
                                </tr>
                                <tr>
                                    <td>Toggle full screen</td>
                                    <td><kbd>f</kbd> or double-click video</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <script>

            // Offset for screen
            const offset = 0 / 1000;

            // Overrides for playerVars
            const playerVars = {
                modestbranding: '0'
            };

            // If embedded
            if (window.self !== window.top) {
                $('nav .navbar-nav').last().removeClass('d-none');
                playerVars.modestbranding = '1';
            }

            // If resuming
            const url = new URL(window.location.href);
            if (url.searchParams.get('start') === null) {
                try {
                    playerVars.start = (localStorage.getItem(url.pathname.slice(1)) || 0).toString();
                }
                catch(err) {}
            }

            // On resize
            function resize() {

                // If < extra small and iframed, hide navbar
                // https://getbootstrap.com/docs/4.5/layout/grid/
                if ($(window).width() < 576 && window.self !== window.top) {
                    $('nav').addClass('d-none');
                }

                // If < large, shrink navbar
                // https://getbootstrap.com/docs/5.2/layout/grid/#grid-options
                else if ($(window).width() < 992) {
                    $('nav').removeClass('d-none');
                    $('nav .custom-control').addClass('custom-control-sm');
                    $('nav .btn').addClass('btn-sm');
                    $('nav .form-control').addClass('form-control-sm');
                    $('nav .dropdown-item').addClass('small');
                }
                else {
                    $('nav').removeClass('d-none');
                    $('nav .custom-control').removeClass('custom-control-sm');
                    $('nav .btn').removeClass('btn-sm');
                    $('nav .form-control').removeClass('form-control-sm');
                    $('nav .dropdown-item').removeClass('small');
                }

                // Fill rest of viewport
                $('#main, #screen').height(($(window).height() - $('nav').outerHeight()) + 'px');
            }

            

            

            // Captions
            const captions = [[0.5, "BRIAN YU: In this lab your task is going to be to write a program in Python"], [4.23, "to simulate the results of a sports tournament."], [7.26, "In a sports tournament, like the FIFA World Cup or other sport tournaments"], [10.77, "as well, oftentimes tournaments end up in a single elimination bracket"], [15.36, "where you end up with a bunch of teams each of which play each other,"], [18.84, "where the winners then move on to the next round and then play each other,"], [22.05, "the winners then move on to the next round, play each other"], [24.76, "and then finally the last two teams play each other"], [27.42, "and whichever team wins between those last two teams"], [30.21, "is ultimately declared the winner of the tournament."], [34.01, "How might we simulate this type of tournament?"], [36.47, "Well in order to do so, we need some idea of how good each of these teams"], [40.4, "actually is so that we can compare two teams"], [43.43, "and make some prediction about who is likely to win a game between those two"], [47.51, "teams."], [48.65, "So oftentimes teams or players will have ratings,"], [51.89, "some number that determines how good that particular team or player is"], [56.37, "and as a result, we can use that information"], [59.12, "to compare two ratings to determine who might win a game between any two teams"], [64.099, "for instance."], [65.209, "Ultimately your program is going to use this kind of information,"], [68.9, "a listing of teams and what their ratings are, to simulate a tournament"], [72.98, "and simulate what the probability is that any particular team is"], [76.85, "going to win that tournament."], [78.56, "In order to do so you\u0027ll need access to some data,"], [81.32, "so we\u0027ll give you some data formatted as a CSV file,"], [84.26, "comma separated values, where every line corresponds"], [87.98, "to a team that has two values."], [90.26, "First the name of the team, in other words, like what country for example"], [93.65, "that team is from, followed by a comma, and then the rating"], [97.19, "for that team, some number representing the strength of that team where"], [101.33, "a higher rating means that team is better"], [103.85, "and is therefore more likely to win a game against a lower rated"], [107.42, "team for example."], [108.83, "The bigger the difference between the ratings of those two teams,"], [111.95, "the more likely it is that the team with the higher rating"], [115.28, "is going to win that game."], [118.08, "If we stored this information inside of a CSV file,"], [121.14, "then your program is going to work as follows,"], [123.42, "you\u0027ll run python tournament.py followed by a CSV file, the one"], [127.59, "we have here is the 2018 men\u0027s FIFA World Cup teams,"], [132.33, "and after that your program is going to simulate a whole bunch of tournaments,"], [136.08, "maybe simulating 1,000 different tournaments within these teams"], [139.81, "and then printing out based on those results what the program thinks"], [143.22, "the probability is that any particular country will"], [146.67, "be the eventual winner of the entire tournament."], [150.29, "How are you going to do that?"], [151.522, "Well, let\u0027s start by taking a look at the distribution code"], [153.98, "that we give to you as part of this lab."], [156.29, "For this lab, we give to you a couple of files."], [158.96, "We give you some CSV files, each of which"], [161.39, "is going to contain a listing of teams as well as what rating each"], [164.9, "of those teams has, and we give you that for a couple of different tournaments"], [168.83, "but then tournament.py is where all of the logic is."], [172.16, "This is the Python file that you\u0027re going"], [174.23, "to use to actually simulate one of these sports tournaments."], [178.08, "We start here by defining a variable n which"], [180.84, "is equal to the number of simulations to run,"], [183.6, "and by default we\u0027re going to simulate 1,000 different tournaments"], [186.93, "with these teams."], [188.94, "Inside the main function, we check to make sure"], [191.43, "that the program is being used correctly with a file name provided"], [194.34, "as an argument."], [195.92, "Then we define a variable called teams, which"], [198.83, "initially is just going to be an empty list,"], [201.26, "there are no teams we know of yet."], [203.22, "But the first thing you\u0027ll want to do is to read from the CSV file"], [207.29, "all of those teams and sort each team inside of this list of teams,"], [212.06, "storing each team with a dictionary where that dictionary is going"], [215.12, "to store values for both the name of the team"], [217.55, "as well as for the rating for that team as well."], [222.38, "After that, we define another dictionary called count."], [226.55, "And count is going to be a dictionary that maps keys to values"], [229.7, "as all dictionaries do, where in this case,"], [232.05, "the keys are going to be the names of the teams"], [235.46, "and the values are going to be how many tournaments that team has won."], [240.32, "Because ultimately we\u0027re going to simulate n tournaments, where"], [243.26, "by default n is going to be 1,000 and we want to keep track of how many times"], [248.09, "any given team wins a tournament."], [251.18, "And if a team wins the tournament 100 times then"], [254.06, "that team name is going to be the key and 100"], [257.029, "is going to be the value, so that we can remember"], [259.339, "for any given team how many tournaments they won according to our simulation."], [264.4, "And based on that simulation, we\u0027ve already"], [266.66, "written code for you that goes through each of those teams"], [269.69, "and prints out what probability we expect them to have"], [272.9, "of winning the entire tournament."], [275.69, "We\u0027ve also given to you a couple of other functions."], [278.27, "We\u0027ve given to a simulate_game function that accepts two teams as input."], [282.92, "And what it\u0027s going to do is return true if based on the simulation"], [286.43, "team 1 wins and false otherwise."], [289.4, "This function utilizes some randomness, it\u0027s"], [291.86, "not always going to return the same result to you"], [294.47, "every time, just as when two of the same teams play a game"], [298.1, "it\u0027s not always going to be the case most likely"], [300.23, "that the same team is going to win every time."], [302.42, "There is some variability in the function as well."], [305.51, "What the function does is it looks at the rating for both"], [308.33, "of those teams, rating 1 and rating 2, and uses that information"], [312.8, "to calculate what the probability is that team 1 for example wins the game."], [318.54, "And then randomly using that probability,"], [321.02, "returns true sometimes if team 1 wins and false otherwise."], [326.21, "We\u0027ve also given you a function called simulate_round,"], [329.21, "which does the same thing, but not just for one game"], [332.27, "but for an entire round of games between many different teams."], [336.01, "The simulate_round function accepts as input a list of teams,"], [339.99, "and what the simulate_round function will do"], [342.29, "is consider each of those pairs of teams one at a time, teams 0 and 1, then 2"], [347.03, "and 3, then 4 and 5, and simulate the game between each of them,"], [351.41, "returning to you a list of the winners of that round."], [355.7, "So if you give to simulate_round a list of eight teams for example,"], [360.14, "then simulate_round will return to you a list"], [362.81, "of the four winners from pairing up teams 0 and 1, 2 and 3, 4"], [367.41, "5, 6 and 7 for example."], [370.84, "Finally, here is the simulate_tournament function."], [374.46, "This function ultimately should simulate the entire tournament, starting out"], [378.45, "with all of the teams, which you can assume will be some power of 2,"], [381.6, "like 16 teams for example."], [383.8, "And then repeatedly simulating rounds until we\u0027re down to just one"], [387.63, "winner of the entire tournament and it\u0027s going to be left up"], [390.69, "to you to complete that function."], [393.9, "So let\u0027s recap what you\u0027ll need to do in tournament.py."], [398.07, "First, you should complete the main function using csv.DictReader"], [403.2, "you can read teams from the CSV file one at a time,"], [406.62, "treating each team as a dictionary, where there\u0027s a key called team that"], [410.79, "represents the team\u0027s name as well as a key called rating that"], [414.18, "represents the team\u0027s rating."], [416.16, "Now by default when you read files as a CSV file it\u0027s going to treat everything"], [420.3, "as a string and because the rating is a number"], [422.867, "you\u0027ll want to make sure that you actually convert"], [424.95, "that rating to an integer first."], [427.74, "Once you do, you\u0027re going to store each team as a dictionary"], [430.83, "inside that list of teams."], [433.03, "So the teams ends up being a list of dictionaries, one dictionary per team."], [437.77, "And once you have that list of teams and you can then"], [440.22, "simulate n tournaments, where n by default"], [442.8, "is 1,000, by calling your simulate_tournament function."], [447.32, "After each of those tournaments, which you"], [449.07, "might imagine having in some sort of loop"], [451.2, "that\u0027s going to repeatedly simulate one tournament after another,"], [454.5, "you\u0027ll want to keep track of the win count inside of your count dictionary."], [458.79, "Keeping track for any given team how many times that team"], [462.6, "has won one of your simulated tournaments."], [465.6, "You\u0027ll also want to complete the simulate_tournament function."], [469.34, "The simulate_tournament function again should simulate an entire tournament,"], [473.16, "accepting a list of teams and producing who"], [475.95, "the winner of the simulated tournament is."], [478.71, "In doing so, you\u0027ll probably want to call the simulate_round function, which"], [483.3, "we\u0027ve already written for you, which accepts a list of teams"], [486.99, "and returns a list of the winners from that round."], [490.26, "And likely you\u0027ll want to run this function multiple times,"], [493.83, "repeatedly simulating rounds until only one team is left."], [497.97, "If you start off with a tournament with 16 teams"], [500.7, "and you pass those teams into simulate_round,"], [503.43, "you\u0027ll get back a list of eight winners."], [505.83, "If you simulate a round with those eight winners,"], [508.05, "you\u0027ll get back a list of four winners and then two, all the way down"], [511.32, "until one team is left in this tournament."], [514.35, "And once you\u0027re down to just one winning team,"], [516.809, "you\u0027re going to return the name of that winning team"], [520.0, "so that you can use that name inside your count dictionary"], [523.11, "to figure out who ultimately is going to win the simulation."], [527.46, "After you\u0027ve done all of that, you should"], [529.32, "be able to run tournament.py on a CSV file that"], [532.5, "contains teams and their ratings and figure out the approximate probability"], [537.12, "that any given team is going to win the tournament."], [540.3, "My name is Brian and this was World Cup."]];
            
            // Add captions to dropdown
            for (let caption of captions) {

                // Floor start (to match YouTube timeline)
                const start = Math.floor(caption[0]);

                // Add caption to dropdown
                const url = new URL(window.location.href);
                url.searchParams.set('start', start)
                url.searchParams.delete('end');
                const $a = $('<a class="dropdown-item overflow-hidden text-truncate" data-start="' + start + '" href="' + url.href + '">');
                let $span = $('<span class="d-inline-block me-3 text-end">');
                $span.append($('<span class="badge bg-dark">').text(numeral(start).format('00:00:00')));
                $a.append($span);
                $span = $('<span data-text>').text(caption[1]);
                $a.append($span);
                $('#captions').append($('<li>').append($a));

                // Listen for clicks
                $a.on('click', function(event) {
                    if ($('#switch').is(':checked')) {
                        YT.get('screen').seekTo(start - offset);
                        YT.get('screen').playVideo();
                    }
                    else {
                        YT.get('main').seekTo(start);
                        YT.get('main').playVideo();
                    }
                    event.preventDefault();
                    bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).hide();
                });
            }

            // Scroll to closest caption by default
            const shown = function() {
                $('#captions [data-start]').removeAttr('data-top');
                $('#captions').scrollTop(0);
                const t = Math.round(($('#switch').is(':checked')) ? YT.get('screen').getCurrentTime() : YT.get('main').getCurrentTime());
                const captions = $('#captions [data-start]').get();
                for (let i = 0; i < captions.length; i++) {
                    let $caption = $(captions[i]);
                    if ($caption.attr('data-start') >= t) {
                        if (i >= 2) {
                            $caption = $(captions[i - 2]);
                        }
                        else if (i === 1) {
                            $caption = $(captions[i - 1]);
                        }
                        $('#captions').scrollTop($caption.position().top); // https://stackoverflow.com/a/23116056
                        $caption.attr('data-top', '');
                        break;
                    }
                }
                $('#q').focus();
            };
            $('#captions').parent().on('shown.bs.dropdown', shown);

            // Hide captions if they were opened via focus and then navbar is clicked
            // https://stackoverflow.com/questions/152975/how-do-i-detect-a-click-outside-an-element/3028037#3028037
            $(document).click(function(event) { 
                if (!$(event.target).closest($('#captions').closest('.input-group')).length) {
                    bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).hide();
                }
            });

            

            // Show captions on focus
            $('#q').on('click focus', function() {
                bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).show();
            });

            // Listen for searches
            $('#q').closest('form').on('submit', function(e) {
                e.preventDefault();
            });
            const $spans = $('#captions .dropdown-item span[data-text]');
            $('#q').on('keyup search', function(e) {
                const value = $(this).val().trim().toLowerCase();
                if (value.length >= 2) {
                    const regexp = new RegExp(value, 'i');
                    $spans.each(function(index, element) {
                        const $span = $(element);
                        if ($span.text().toLowerCase().includes(value)) {
                            $span.html($span.text().replace(regexp, function(match) {
                                return '<mark>' + match + '</mark>';
                            }));
                            $span.parent().removeClass('d-none');
                        }
                        else {
                            $span.parent().addClass('d-none');
                        }
                    });
                    if ($('#captions .dropdown-item:not(.d-none)').length === 0) {
                        $('#captions').addClass('d-none');
                    }
                    else {
                        $('#captions').removeClass('d-none');
                    }
                }
                else {
                    $spans.each(function(index, element) {
                        const $span = $(element);
                        $span.html($span.text());
                        $(element).parent().removeClass('d-none');
                    });
                    $('#captions').removeClass('d-none');
                }
                stretch({target: $('#captions').get(0)});
            });

            // Enable captions
            $('#captions').prev('[data-bs-toggle="dropdown"]').removeAttr('disabled');
            $('#q').removeAttr('disabled');

            

            // Listen for clicks on iframe
            window.addEventListener('blur', function() {

                

                // Hide snacks
                bootstrap.Dropdown.getOrCreateInstance($('#snacks-button').get(0)).hide();

                
                // Hide captions
                bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).hide();
                
            });

            // Stretch badges' parents so all same size
            const stretch = function(e) {
                const $parents = $(e.target).find('.bg-dark').parent();
                const width = Math.max.apply(null, $parents.map(function(index, domElement) { return $(domElement).outerWidth(); }));
                $parents.css('width', width + 'px');
            };
            
            $('#captions').parent().on('shown.bs.dropdown', stretch);
            
            

            // Load YouTube Player API
            // https://developers.google.com/youtube/iframe_api_reference#Getting_Started
            const tag = document.createElement('script');
            tag.src = 'https://www.youtube.com/iframe_api';
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            

            // Player for main
            let main;

            // https://developers.google.com/youtube/iframe_api_reference#Requirements
            function onYouTubeIframeAPIReady() {
                new YT.Player('main', {
                    events: {
                        onReady: function(event) {

                            // Remember player for main
                            main = event.target;

                            // Remove API-added attributes
                            $('#main').removeAttr('height').removeAttr('title').removeAttr('width');

                            // Reveal main
                            $('#main').removeClass('invisible');

                            // If not iframed
                            if (window.self === window.top) {

                                // If resuming
                                const url = new URL(window.location.href);
                                if (url.searchParams.get('start') === null) {
                                    try {
                                        const start = localStorage.getItem(url.pathname.slice(1));
                                        if (start) {
                                            main.seekTo(start);
                                        }
                                    }
                                    catch(err) {}
                                }

                                // Play video
                                main.playVideo();
                            }
                        }
                    },
                    playerVars: $.extend({"autoplay": "0", "enablejsapi": "1", "iv_load_policy": "3", "mute": "0", "origin": "https://video.cs50.io", "playsinline": "1", "rel": "0", "showinfo": "0"}, playerVars),
                    videoId: "o5Bkc7gtRjo"
                });
            }

            

            // Serve snacks
            // https://unicode.org/emoji/charts/full-emoji-list.html
            const snacks = {
                'food-sweet': ['🍦', '🍧', '🍨', '🍩', '🍪', '🥧', '🍫', '🍬', '🍭', '🍮'],
                'food-fruit': ['🍇', '🍈', '🍉', '🍊', '🍌', '🍍', '🥭', '🍎', '🍏', '🍐', '🍒', '🍓', '🥝', '🥥']
            };
            const $divider = $('<li><hr class="dropdown-divider"></hr></li>');
            const $item = $('<li><a class="dropdown-item"></li>');
            $('#snacks').append($item.clone().children().text(['🧁', '🍰'][Math.floor(Math.random(2))]));
            for (key in snacks) {
                $('#snacks').append($divider.clone());
                $('#snacks').append($item.clone().children().text(snacks[key].splice(Math.floor(Math.random() * snacks[key].length), 1)));
            }
            $('#snacks').append($divider.clone());
            $('#snacks').append($item.clone().children().text('🍿'));

            // Ensure snacks are cross-platform
            twemoji.parse($('#snacks').get(0));

            // Listen for snacks
            $('#snacks .dropdown-item').click(function(event) {
                $(this).html(twemoji.parse('😋')).addClass('disabled').attr('aria-disabled', 'true');
                return false;
            });

            // Before shortcuts are shown
            $('#shortcuts').on('show.bs.modal', function(event) {
                if ($('#shortcuts').data('danger')) {
                    $('#shortcuts .alert').removeClass('alert-warning').addClass('alert-danger');
                    $('#shortcuts').removeData('danger');
                }
                else {
                    $('#shortcuts .alert').removeClass('alert-danger').addClass('alert-warning');
                }
            });

            // Listen for keydown
            $(document).keydown(function(e) {

                // If keydown was in search box and was down arrow
                if ($(e.target).attr('id') === 'q' && e.which === 40) {
                    $('#captions [data-top]').focus();
                    e.preventDefault();
                }
            });

            // Listen for keyup
            $(document).keyup(function(e) {

                // If Escape
                if (e.key === 'Escape') {

                    // Close modal (if open)
                    bootstrap.Modal.getOrCreateInstance($('#shortcuts').get(0)).hide();

                    // Close captions (if open)
                    bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).hide();
                    $('#q').blur();
                }

                // If keyup was in search box
                if ($(e.target).attr('id') === 'q') {

                    // In case user hid captions with Escape, re-show since user is now typing
                    if (e.key !== 'Escape') {
                        bootstrap.Dropdown.getOrCreateInstance($('#captions-button').get(0)).show();
                    }

                    // Ignore event otherwise so that it propagates to search box
                    return;
                }

                // If question mark
                if (e.key === '?') {
                    bootstrap.Modal.getOrCreateInstance($('#shortcuts').get(0)).show();
                }

                // Listen for keyups intended for iframe
                const keys = [
                    ' ',
                    ',',
                    '.',
                    '<',
                    '>',
                    'c',
                    'f',
                    'j',
                    'k',
                    'l',
                    'm'
                ];
                if (keys.includes(e.key)) {
                    $('#shortcuts').data('danger', true);
                    bootstrap.Modal.getOrCreateInstance($('#shortcuts').get(0)).show();
                }
            });

            // Every 500ms
            let end;
            window.setInterval(function() {

                // If a player is foregrounded (and ready)
                let player;
                if (screen && $('#switch').is(':checked')) {
                    player = screen;
                }
                else if (main) {
                    player = main;
                }
                if (player) {

                    // Current timecode
                    const t = Math.round(player.getCurrentTime());

                    // Current URL
                    const url = new URL(window.location.href);
            
                    // Get start from URL
                    let start;
                    try {
                        start = parseInt(url.searchParams.get('start'));
                    }
                    catch (err) {}

                    // Remove end from URL from URL
                    if (url.searchParams.get('end')) {
                        if (player.getPlayerState() === YT.PlayerState.PLAYING) {
                            try {
                                end = parseInt(url.searchParams.get('end'));
                                url.searchParams.delete('end');
                                history.replaceState(null, '', url);
                            }
                            catch (err) {}
                        }
                    }

                    // If end is set
                    if (typeof end !== 'undefined') {

                        // And player has reached it, pause video
                        if (player.getPlayerState() === YT.PlayerState.PLAYING && t === end) {
                            player.pauseVideo();
                        }

                        // If player has reached or passed it, forget end
                        if (t >= end) {
                            end = undefined;
                        }
                    }

                    // If paused, add timecode (if not 0) to URL
                    if (player.getPlayerState() === YT.PlayerState.PAUSED && t !== 0) {
                        if (start !== t) {
                            url.searchParams.set('start', t);
                            history.replaceState(null, '', url);
                        }
                    }

                    // If playing, remove timecode from URL
                    else if (player.getPlayerState() === YT.PlayerState.PLAYING) {
                        if (start) {
                            url.searchParams.delete('start');
                            history.replaceState(null, '', url);
                        }
                    }

                    // Update external link in navbar
                    const $a = $('nav .fa-external-link-alt').parent();
                    if ($a.attr('href') !== url && t != 0) {
                        url.searchParams.set('start', t);
                        $a.attr('href', url);
                    }

                    // Remember timecode in localStorage if more than a minute from start or end
                    try {
                        if (t > 60 && Math.round(player.getDuration()) - t > 60) {
                            localStorage.setItem(url.pathname.slice(1), t);
                        }
                        else {
                            localStorage.removeItem(url.pathname.slice(1));
                        }
                    }
                    catch(err) {}
                }
            }, 500);
 
            // Resize UI
            $(window).resize(resize).trigger('resize');

            // Reveal UI
            $('body').removeClass('invisible');

        </script>

    

<div style="clear: both; display: block; height: 0px;"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>